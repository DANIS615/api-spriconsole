# ANALISIS DE MANGUERAS EN DLLs GILBARCO

Busqueda de como especificar manguera en comandos

---

## REFERENCIAS A MANGUERA/HOSE

### SSF.FC.Comm.Bogus.D.dll

- `a server-side transaction was attempted on a conversation`

### SSF.FC.Comm.Serial.D.dll

- `a server-side transaction was attempted on a conversation`

### SSF.FC.Comm.TCP.D.dll

- `a server-side transaction was attempted on a conversation`

### SSF.FC.Comm.GPBox.D.dll

- `a server-side transaction was attempted on a conversation`

## FORMATO DE COMANDO

### SSF.FC.Comm.Bogus.D.dll

- ` !3"#$3333%&'()*+,333333333333-333.333/33333012`
- `ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`
- `year < 2030`
- `0123456789abcdef`
- `f:\vs70builds\6030\vc\crtbld\crt\src\sprintf.c`
- `f:\vs70builds\6030\vc\crtbld\crt\src\vsprintf.c`
- ` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~`
- `0123456789ABCDEF`

### SSF.FC.Comm.Serial.D.dll

- ` !3"#$3333%&'()*+,333333333333-333.333/33333012`
- `year < 2030`
- `ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`
- `0123456789abcdef`
- `f:\vs70builds\6030\vc\crtbld\crt\src\sprintf.c`
- `f:\vs70builds\6030\vc\crtbld\crt\src\vsprintf.c`
- ` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~`
- `0123456789ABCDEF`

### SSF.FC.Comm.TCP.D.dll

- ` !3"#$3333%&'()*+,333333333333-333.333/33333012`
- `ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`
- `year < 2030`
- `0123456789abcdef`
- `f:\vs70builds\6030\vc\crtbld\crt\src\sprintf.c`
- `f:\vs70builds\6030\vc\crtbld\crt\src\vsprintf.c`
- ` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~`
- `0123456789ABCDEF`
- `0.030=0`
- `0'030A0`0`

### SSF.FC.Comm.GPBox.D.dll

- ` !3"#$3333%&'()*+,333333333333-333.333/33333012`
- `year < 2030`
- `ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`
- `0123456789abcdef`
- `f:\vs70builds\6030\vc\crtbld\crt\src\sprintf.c`
- `f:\vs70builds\6030\vc\crtbld\crt\src\vsprintf.c`
- ` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~`
- `0123456789ABCDEF`

## NUMERACION DE MANGUERAS

No se encontraron numeraciones

## SECUENCIAS DE COMANDO 030

### SSF.FC.Comm.Bogus.D.dll - 3 apariciones

Posicion: 0x001057c4
```
ASCII: ..year < 2030.\SSF\SSF.Dev\Ext
HEX:   000079656172203c2032303330005c5353465c5353462e4465765c457874
```

Posicion: 0x001115f3
```
ASCII: 70builds\6030\vc\crtbld\crt\sr
HEX:   37306275696c64735c363033305c76635c637274626c645c6372745c7372
```

Posicion: 0x00112183
```
ASCII: 70builds\6030\vc\crtbld\crt\sr
HEX:   37306275696c64735c363033305c76635c637274626c645c6372745c7372
```

### SSF.FC.Comm.Serial.D.dll - 3 apariciones

Posicion: 0x00105f6c
```
ASCII: ..year < 2030.\SSF\SSF.Dev\Ext
HEX:   000079656172203c2032303330005c5353465c5353462e4465765c457874
```

Posicion: 0x0011ef43
```
ASCII: 70builds\6030\vc\crtbld\crt\sr
HEX:   37306275696c64735c363033305c76635c637274626c645c6372745c7372
```

Posicion: 0x0011fabb
```
ASCII: 70builds\6030\vc\crtbld\crt\sr
HEX:   37306275696c64735c363033305c76635c637274626c645c6372745c7372
```

### SSF.FC.Comm.TCP.D.dll - 6 apariciones

Posicion: 0x0010f8e4
```
ASCII: ..year < 2030.\SSF\SSF.Dev\Ext
HEX:   000079656172203c2032303330005c5353465c5353462e4465765c457874
```

Posicion: 0x0011ce3b
```
ASCII: 70builds\6030\vc\crtbld\crt\sr
HEX:   37306275696c64735c363033305c76635c637274626c645c6372745c7372
```

Posicion: 0x0011d9eb
```
ASCII: 70builds\6030\vc\crtbld\crt\sr
HEX:   37306275696c64735c363033305c76635c637274626c645c6372745c7372
```

Posicion: 0x0013a917
```
ASCII: ....0.0.0.030=0.0.0.0.0L1l1x1.
HEX:   0000000430093013302e3033303d30b130b630c030c7304c316c31783196
```

Posicion: 0x0013dc7b
```
ASCII: p.......0'030A0`0.1.1.1.1.1.1.
HEX:   70140088000000063027303330413060307f318c31a031a631b531d631dc
```

### SSF.FC.Comm.GPBox.D.dll - 3 apariciones

Posicion: 0x00109564
```
ASCII: ..year < 2030.\SSF\SSF.Dev\Ext
HEX:   000079656172203c2032303330005c5353465c5353462e4465765c457874
```

Posicion: 0x001225f7
```
ASCII: 70builds\6030\vc\crtbld\crt\sr
HEX:   37306275696c64735c363033305c76635c637274626c645c6372745c7372
```

Posicion: 0x001230bb
```
ASCII: 70builds\6030\vc\crtbld\crt\sr
HEX:   37306275696c64735c363033305c76635c637274626c645c6372745c7372
```

---

## HIPOTESIS DE FORMATO

Basado en protocolos Gilbarco estandar:

### Opcion 1: Manguera en comando
```
030[HOSE][TIPO][MONTO]
   1      1     8 digitos

Ejemplo: 030 1 1 00000500
         └── manguera 1
           └── tipo 1 (monto)
             └── $5.00
```

### Opcion 2: Manguera despues de tipo
```
030[TIPO][HOSE][MONTO]
   1      1     8 digitos

Ejemplo: 030 1 1 00000500
         └── tipo 1 (monto)
           └── manguera 1
             └── $5.00
```

### Opcion 3: Manguera en PUMP_ID
```
DLE [PUMP_ID][HOSE] STX 030...

Ejemplo: 10 31 31 02 030...
         └─────┴─ pump=1, hose=1
```

### Opcion 4: Comando separado
```
Primero seleccionar manguera: 0XX[HOSE]
Luego enviar AUTHORIZE: 030...
```

